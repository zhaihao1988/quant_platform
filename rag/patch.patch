 from rag.loader import load_announcements
+from rag.news import search_stock_news

 def generate_deep_report(
     company_name: str,
     symbol: str,
     peer_companies: List[str] = None
 ) -> str:
     # … existing loading …
     announcements = load_announcements(symbol, top_n=5)
+    # 额外检索线上新闻
+    news_snippets = search_stock_news(symbol, num=3)

     # 2) RAG 检索公告上下文
     query = " ".join(announcements + news_snippets)
     news_context = "\n".join(retrieve_context(query, k=3))
